SET SERVEROUTPUT ON;

DROP TABLE tabla_temporal;

CREATE TABLE tabla_temporal (
    cod_cli     NUMBER(4),
    nombre_cli  VARCHAR2(50),
    precio_tot  NUMBER(8),
    tot_ped     NUMBER(8)
);

DECLARE
    codigo_cliente NUMBER := &id_cliente; -- Declaración y asignación de la variable código_cliente.
    nombre        customer.name%TYPE;
    pedido_total  sales_order.total%TYPE; -- Debe ser sales_order.total, ya que se obtiene de la tabla sales_order.
    precio_total  item.total%TYPE;
BEGIN
    FOR cliente IN (SELECT
                        c.customer_id,
                        c.name,
                        so.total AS pedido_total,
                        i.total AS precio_total
                    FROM
                        customer c
                        JOIN sales_order so ON c.customer_id = so.customer_id
                        JOIN item i ON so.order_id = i.order_id
                    WHERE
                        c.customer_id = codigo_cliente) 
    LOOP
        nombre := cliente.name;
        pedido_total := cliente.pedido_total;
        precio_total := cliente.precio_total;

       insert into tabla_temporal values(codigo_cliente,nombre,precio_total,pedido_total);
    END LOOP;

END;
/