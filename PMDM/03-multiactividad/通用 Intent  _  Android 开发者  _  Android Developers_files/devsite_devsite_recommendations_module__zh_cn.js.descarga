(function(_ds){var window=this;var N6=function(a,b){const c=[];for(const h of a)try{a=c;var d=a.push,e=b;const k=new URL(h),l=_ds.G();if(k.hostname!==l.hostname)throw Error("Recommendations must be from the same site.");var f=k.pathname;var g=_ds.Ls(_ds.Ms(new _ds.Ns,f),e.toString());d.call(a,g)}catch(k){}return c};var Xaa=function(a){const b=a.Fv,c=a.du;a=a.Qu;let d;d='<h2 class="significatio-heading no-link">\u4e3a\u60a8\u63a8\u8350</h2>';""!=b?(d=d+'<div class="info-container"><button type="button" class="button-flat info-button significatio-info-container" id="significatio-info-button" aria-label="'+_ds.Uz("\u5173\u4e8e\u63a8\u8350\u5185\u5bb9"),d=d+'" data-title="'+_ds.Uz("\u5173\u4e8e\u63a8\u8350\u5185\u5bb9"),d+='"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="significatio-icon-info"><path d="M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg></button></div>'):
(d=d+'<div class="significatio-popout-container"><button type="button" class="significatio-popout-toggle button-flat significatio-info-container" id="significatio-popout-toggle" aria-haspopup="true" aria-controls="significatio-popout" aria-label="'+_ds.Uz("\u5173\u4e8e\u63a8\u8350\u5185\u5bb9"),d=d+'" data-title="'+_ds.Uz("\u5173\u4e8e\u63a8\u8350\u5185\u5bb9"),d+='"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="significatio-icon-info"><path d="M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg></button><div class="significatio-popout" id="significatio-popout" aria-labelledby="significatio-popout-toggle" hidden><h4 class="significatio-popout-heading">\u5173\u4e8e\u8fd9\u4e9b\u63a8\u8350\u6587\u6863\u9875\u9762</h4><p>\u8fd9\u4e9b\u63a8\u8350\u6587\u6863\u9875\u9762\u53ef\u4ee5\u5e2e\u52a9\u60a8\u627e\u5230\u8981\u67e5\u627e\u7684\u5185\u5bb9\u3002\u5b83\u4eec\u53ef\u80fd\u57fa\u4e8e\u60a8\u5f53\u524d\u6b63\u5728\u67e5\u770b\u7684\u9875\u9762\u4ee5\u53ca\u60a8\u7684\u8d26\u53f7\u4fdd\u5b58\u7684\u9875\u9762\u3002 <a href="https://myactivity.google.com/activitycontrols/webandapp" class="significatio-popout-interactive">\u7f51\u7edc\u4e0e\u5e94\u7528\u6d3b\u52a8\u8bb0\u5f55</a>.</p><a href="http://go/devsite-recommendations" class="significatio-popout-interactive">\u4e86\u89e3\u8be6\u60c5</a></div></div>');
d+='<div class="significatio-buttons">';a&&(d+='<p class="significatio-internal-only">\u4ec5\u9650\u5185\u90e8\u4f7f\u7528</p>');""!=c&&(d=d+'<button type="button" class="significatio-issue-button button-flat" id="significatio-issue-button" aria-label="'+_ds.Uz("\u62a5\u544a\u4f4e\u8d28\u91cf\u7684\u63a8\u8350\u6587\u6863\u9875\u9762"),d=d+'" data-title="'+_ds.Uz("\u62a5\u544a\u4f4e\u8d28\u91cf\u7684\u63a8\u8350\u6587\u6863\u9875\u9762"),d+='"><span class="material-icons" aria-hidden="true">bug_report</span></button>');
return(0,_ds.U)(d+"</div>")},Yaa=function(){return(0,_ds.U)('<div class="significatio-overview"></div><div class="significatio-body"><div class="significatio-recommendations"></div><div class="significatio-loading"><devsite-spinner size="64"></devsite-spinner></div></div>')},$aa=function(a){let b="";a=a.kc;const c=a.length;for(let d=0;d<c;d++)b+=Zaa(a[d]);return(0,_ds.U)(b)},Zaa=function(a){let b='<div class="significatio-card"><h3 class="significatio-card-heading no-link"><a href="'+_ds.W(_ds.iA(a.getUrl()+
"?"+_ds.z(a,8)))+'" data-category="Site-Wide Custom Events" data-label="devsite-recommendation card link" data-action="click" track-type="recommendations" track-name="cardClick" track-metadata-eventdetail="'+_ds.W(a.getUrl())+'">';var c=[a.getTitle(),_ds.z(a,3),_ds.z(a,4)];b+=_ds.V(c.filter(d=>0<(""+_ds.Kz(d)).length)[0])+'</a></h3><p class="significatio-card-description">'+_ds.V(_ds.Pz(_ds.z(a,5)))+'</p><div class="significatio-card-meta">';c='\u66f4\u65b0\u4e8e <span class="significatio-date" date="'+
(_ds.W(_ds.yg(a,_ds.DE,7).getSeconds())+'"></span>');b+=c;if(0!=_ds.zg(a,_ds.ES,11).length){b=b+'<span class="significatio-recommend-popout-container"><button type="button" class="significatio-popout-toggle button-flat significatio-attr-toggle" aria-haspopup="true" aria-controls="significatio-popout" aria-label="'+_ds.Uz("\u4e3a\u4ec0\u4e48\u63a8\u8350\u8fd9\u4e2a\uff1f");b=b+'" data-title="'+_ds.Uz("\u4e3a\u4ec0\u4e48\u63a8\u8350\u8fd9\u4e2a\uff1f");b+='"><i class="material-icons significatio-attr-info">help_outline</i></button><div class="significatio-popout significatio-attr" aria-labelledby="significatio-popout-toggle" hidden><h4 class="significatio-popout-heading">\u4e3a\u4ec0\u4e48\u63a8\u8350\u8fd9\u4e2a\uff1f</h4><p>\u56e0\u4e3a\u60a8\u67e5\u770b\u8fc7 ';
a=_ds.zg(a,_ds.ES,11);c=a.length;for(let d=0;d<c;d++){const e=a[d];b+=' <a href="'+_ds.W(_ds.iA(e.getUrl()))+'" class="significatio-popout-interactive" track-type="recommendations" track-name="attributionLink">'+_ds.V(e.getTitle())+"</a>"}b+=".</p></div></span>"}return(0,_ds.U)(b+"</div></div>")},aba=function(a){var b=a.ex;a='<div class="significatio-card error">'+(0,_ds.U)('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="significatio-error-icon"><path d="M11 15h2v2h-2v-2zm0-8h2v6h-2V7zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/></svg>')+
'<p class="significatio-card-description">';a+='\u76ee\u524d\u6ca1\u6709\u4efb\u4f55\u63a8\u8350\u6587\u6863\u9875\u9762\u3002</p><p class="significatio-card-description">';b='\u8bf7\u5c1d\u8bd5<a href="#" class="'+(_ds.W(b)+'">\u767b\u5f55</a>\u60a8\u7684 Google \u8d26\u53f7\u3002');return(0,_ds.U)(a+b+"</p></div>")};var bba={"in-page":5},cba=function(a){a.eventHandler.listen(document,"devsite-on-recommendations",b=>{O6(a)&&!a.Ba&&(b=b.Ea)&&(null==b?0:b.detail)&&(0,_ds.MS)(b.detail)&&5===_ds.Mg(b.detail,5)&&(a.j=b.detail,a.Ba=!0,a.removeAttribute("hidden"),a.render())})},O6=function(a){return!a.va&&document.querySelector("devsite-recommendations:not([yield])")?!1:!0},T6=async function(a,b){var c=[2,5,3];if(!a.xa&&c.some(h=>(null==b?void 0:_ds.Mg(b,5))===h)&&((null==b?0:_ds.KS(b).length)&&a.dispatchEvent(new CustomEvent("devsite-on-recommendations",
{detail:b,bubbles:!0})),3!==(null==b?void 0:_ds.Mg(b,5)))){a.remove();return}if(a.display&&bba[a.display]!==(null==b?void 0:_ds.Mg(b,5)))a.remove();else{c=a.querySelector(".significatio-overview");var d=null==b?void 0:_ds.z(b,6);a.ea=(null==b?void 0:_ds.z(b,7))||"";a.v=(null==b?void 0:_ds.z(b,8))||"";var e=1===(null==b?void 0:_ds.Mg(b,9));c&&d?_ds.L(c,Xaa,{Ru:d,Fv:a.ea,du:a.v,Qu:e}):await P6(a,!0,!0,"no title");if(null==b?0:_ds.KS(b).length){_ds.L(a.h,$aa,{kc:_ds.KS(b)});dba(a);(null==b?0:_ds.zg(b,
_ds.JS,2).length)&&eba(_ds.zg(b,_ds.JS,2));a.o=a.querySelector("#significatio-stats-button");if(null==b?0:_ds.z(b,4)){var f;null==(f=a.o)||f.removeAttribute("hidden");a.ua=_ds.z(b,4)}else{let h;null==(h=a.o)||h.setAttribute("hidden","")}if(a.h){f=a.h.querySelectorAll(".significatio-recommend-popout-container");for(var g of f)Q6(a,g)}(g=a.querySelector(".significatio-popout-container"))&&Q6(a,g);fba(a);R6(a);S6(a);a.removeAttribute("loading")}else await P6(a,!1)}},hba=async function(a){a.setAttribute("loading",
"");await _ds.v();a.h&&_ds.Pj(a.h);const b=await gba(a);let c=null;try{c=await _ds.Qs(b)}catch(d){await P6(a,!0,!1,"error fetching recommendations");return}a.j=c;await T6(a,c)},P6=async function(a,b=!0,c=!1,d=""){b&&_ds.ql(d);c&&a.remove();await (await _ds.v()).isSignedIn()?a.remove():(_ds.L(a.h,aba,{ex:"significatio-sign-in"}),S6(a),R6(a),a.removeAttribute("loading"))},Q6=function(a,b){const c=b.querySelector(".significatio-popout-toggle"),d=b.querySelector(".significatio-popout");c&&d&&(a.Aa.push(d),
a.eventHandler.listen(d,"focusout",e=>{e.relatedTarget&&(_ds.ik(e.relatedTarget,null,"significatio-popout",6)||a.hidePopout(d))}),a.eventHandler.listen(c,"click",()=>{a.ma.get(d)||(d.hasAttribute("active")?a.hidePopout(d):a.showPopout(d))}))},gba=async function(a){const b=(await _ds.v()).getTenantId()||0;return _ds.RS(_ds.QS(_ds.PS(_ds.OS(_ds.Ps(b,window.location.pathname),N6(a.oa.map(c=>c.href),b)),N6(a.qa.map(c=>c.href),b)),Number(a.getAttribute("generated"))||0),a.query())},dba=function(a){if(a.h){a=
[...a.h.querySelectorAll(".significatio-date")];for(const b of a)a=b.getAttribute("date"),b.textContent=(new Date(1E3*Number(a))).toLocaleDateString("default",{month:"short",year:"numeric",day:"numeric"})}},eba=function(a){for(const b of a)document.body.dispatchEvent(new CustomEvent("devsite-analytics-set-dimension",{bubbles:!0,detail:{name:b.getName(),value:_ds.z(b,2),gaid:_ds.z(b,3)}}))},fba=function(a){var b=a.querySelector("#significatio-issue-button");b&&a.eventHandler.listen(b,"click",()=>void iba(a));
(b=a.querySelector("#significatio-info-button"))&&a.eventHandler.listen(b,"click",()=>void jba(a));a.o&&a.eventHandler.listen(a.o,"click",()=>{a.ua&&_ds.Mq(a.ua,{target:"_blank"})});a.eventHandler.listen(document,"click",c=>{for(const d of a.Aa)!d.contains(c.target)&&d.hasAttribute("active")&&a.hidePopout(d)})},R6=function(a){a.eventHandler.listen(a,"click",async b=>{_ds.ik(b.target,null,"significatio-sign-in",2)&&await kba()})},S6=function(a){if(a.h){a=[...a.h.querySelectorAll(".significatio-card:not([show])")];
for(const b of a)b.setAttribute("show","")}},kba=async function(){await (await _ds.v()).signIn()},jba=async function(a){a.ea&&_ds.Mq(a.ea,{target:"_blank"})},iba=async function(a){a.v&&_ds.Mq(a.v,{target:"_blank"})},lba=class extends _ds.F{constructor(){super();this.eventHandler=new _ds.H(this);this.va=!0;this.Ba=this.xa=this.Da=this.ra=!1;this.oa=[];this.qa=[];this.j=this.h=null;this.display="";this.ma=new Map;this.Aa=[];this.o=this.ua=null;this.v=this.ea=""}connectedCallback(){this.ra=!0;this.oa=
[...this.querySelectorAll("a[href]")];this.qa=[...this.querySelectorAll('link[rel="disallow"][href]')];this.display=this.getAttribute("display");this.getAttribute("display")?"in-page"===this.getAttribute("display")&&(cba(this),this.xa=!0):this.render()}disconnectedCallback(){document.body.dispatchEvent(new CustomEvent("devsite-recommendations-disconnected",{bubbles:!0}));_ds.I(this.eventHandler);this.oa=[];this.qa=[]}static get observedAttributes(){return["yield","display"]}attributeChangedCallback(a,
b,c){"yield"===a?this.va=null==c:"display"===a&&(this.display=c);this.render()}query(){return this.getAttribute("query")||""}async render(){if(this.ra&&O6(this))if(_ds.L(this,Yaa),this.h=this.querySelector(".significatio-recommendations")){if(this.j?await T6(this,this.j):await hba(this),!this.Da){const c=await _ds.v();try{if(await c.intersectionEnterForElement(this.h),null!==this.j){var a;for(const d of null==(a=this.j)?void 0:_ds.KS(a)){{const g=d.getMetadata();var b=g?{targetPage:d.getUrl(),targetType:_ds.Mg(g,
3),targetRank:_ds.Jg(g,2),targetIdenticalDescriptions:_ds.Jg(g,4),targetTitleWords:_ds.Jg(g,5),targetDescriptionWords:_ds.Jg(g,6),experiment:_ds.z(g,7)}:void 0}a=b;if(!a)continue;const e={category:"Site-Wide Custom Events",action:"recommended",label:d.getUrl(),nonInteraction:!0,additionalParams:{recommendations:a}};this.dispatchEvent(new CustomEvent("devsite-analytics-observation",{detail:e,bubbles:!0}));const f={eventData:JSON.stringify({type:"recommendations",name:"impression",metadata:a})};this.dispatchEvent(new CustomEvent("devsite-analytics-observation-cloudtrack",
{detail:f,bubbles:!0}))}this.Da=!0}}catch(d){}}}else await P6(this,!0,!1,"no recommendations element")}async showPopout(a){a.removeAttribute("hidden");await _ds.ml();a.setAttribute("active","");let b;null==(b=a.querySelector(".significatio-popout-interactive"))||b.focus()}async hidePopout(a){!this.ma.get(a)&&a&&(this.ma.set(a,!0),a.removeAttribute("active"),await _ds.ml(),_ds.Am(this.eventHandler,a,"transitionend",()=>{a.setAttribute("hidden","");this.ma.set(a,!1)}))}};try{window.customElements.define("devsite-recommendations",lba)}catch(a){console.warn("Unrecognized DevSite custom element - DevsiteRecommendations",a)};})(_ds_www);
